<!-- sldsValidatorIgnore -->
<template>
  <header
    class="slds-modal__footer slds-m-bottom_x-small slds-p-around_x-small"
  >
    <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">
      Cart Items
    </h2>
  </header>
  <div class="slds-modal__content">
    <div class="slds-grid slds-grid_vertical">
      <div
        class="slds-grid slds-wrap slds-border_bottom slds-p-vertical_x-small"
      >
        <div
          class="
            slds-grid slds-wrap
            slds-p-vertical_x-small
            slds-size_10-of-12
            slds-medium-size_11-of-12
            slds-large-size_11-of-12
          "
        >
          <div
            class="
              slds-grid slds-wrap slds-col
              slds-size_8-of-12
              slds-medium-size_8-of-12
              slds-large-size_8-of-12
              slds-p-horizontal_medium
            "
          >
            <strong>Product</strong>
          </div>
          <!-- <div
        class="
          slds-col
          slds-size_2-of-12
          slds-medium-size_2-of-12
          slds-large-size_2-of-12
          slds-align_absolute-center
        "
      >
        <strong> QTY </strong>
      </div> -->
          <div
            class="
              slds-col
              slds-size_2-of-12
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              slds-align_absolute-center
            "
          >
            <strong> AMT </strong>
          </div>
        </div>
      </div>
    </div>
    <div class="slds-grid slds-grid_vertical">
      <template if:true={cartProducts}>
        <template for:each={cartProducts.records} for:item="product">
          <div key={product.Id} class="slds-grid">
            <a
              class="
                slds-grid slds-wrap
                slds-p-vertical_x-small
                slds-size_10-of-12
                slds-medium-size_11-of-12
                slds-large-size_11-of-12
              "
              data-value={product.orderLineItemId}
              onclick={handleOnClick}
            >
              <div
                class="
                  slds-grid slds-wrap slds-col
                  slds-size_8-of-12
                  slds-medium-size_8-of-12
                  slds-large-size_8-of-12
                  slds-p-horizontal_medium
                "
              >
                <img
                  src={product.imageUrl__c}
                  class="
                    slds-col
                    slds-size_4-of-12
                    slds-medium-size_1-of-12
                    slds-large-size_1-of-12
                    slds-avatar slds-avatar_large
                    slds-align_absolute-center
                  "
                  alt="Product picture"
                />
                <h3
                  class="
                    slds-col
                    slds-size_8-of-12
                    slds-medium-size_11-of-12
                    slds-large-size_11-of-12
                    slds-p-horizontal_xx-small
                    slds-align_absolute-center
                  "
                >
                  {product.Name}
                </h3>
              </div>
              <div
                class="
                  slds-col
                  slds-size_2-of-12
                  slds-medium-size_2-of-12
                  slds-large-size_2-of-12
                  slds-align_absolute-center
                "
              >
                <lightning-formatted-number
                  format-style="currency"
                  currency-code="EUR"
                  value={product.price__c}
                  class="price"
                  maximum-fraction-digits="0"
                ></lightning-formatted-number>
              </div>
            </a>
            <div
              class="
                slds-col
                slds-size_2-of-12
                slds-medium-size_1-of-12
                slds-large-size_1-of-12
                slds-align_absolute-center
              "
            >
              <lightning-button-icon
                icon-name="utility:delete"
                alternative-text="Delete Item"
                class="slds-m-left_small"
                size="medium"
                title="Delete Item"
                data-value={product.orderLineItemId}
                onclick={handleOnClickDelete}
              ></lightning-button-icon>
            </div>
          </div>
        </template>
      </template>
    </div>
    <div class="slds-grid slds-grid_vertical">
      <div
        class="slds-grid slds-wrap slds-border_bottom slds-p-vertical_x-small"
      >
        <div
          class="
            slds-grid slds-wrap slds-col
            slds-size_8-of-12
            slds-medium-size_6-of-12
            slds-large-size_6-of-12
            slds-p-horizontal_medium
          "
        ></div>
        <div
          class="
            slds-col
            slds-size_2-of-12
            slds-medium-size_2-of-12
            slds-large-size_2-of-12
            slds-align_absolute-center
          "
        >
          <strong>Total amount</strong>
        </div>
        <template if:true={cartProducts}>
          <div
            class="
              slds-col
              slds-size_2-of-12
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              slds-align_absolute-center
            "
          >
            <strong> {cartProducts.totalPrice}â‚¬ </strong>
          </div>
        </template>
        <div
          class="
            slds-col
            slds-size_2-of-12
            slds-medium-size_2-of-12
            slds-large-size_2-of-12
            slds-align_absolute-center
          "
        >
          <lightning-button
            variant="brand"
            label="Make an order"
            title="Primary action"
            onclick={handleMakeOrder}
            class="slds-m-left_x-small"
          ></lightning-button>
        </div>
      </div>
    </div>
  </div>
</template>
